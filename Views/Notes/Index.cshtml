@model IEnumerable<NoteProject.Models.Note>
@{
    ViewData["Title"] = "یادداشت‌ها";
}
<div class="d-flex justify-content-between align-items-center mb-3">
    <h2>یادداشت‌ها</h2>
    <a class="btn btn-primary" href="@Url.Action("Create")">ایجاد یادداشت جدید</a>
</div>

<div class="note-grid">
    @foreach (var note in Model)
    {
        <div class="card note-card" 
     style="cursor: pointer;" 
     onclick="window.location='@Url.Action("Details", new { id = note.Id })'">
    <div class="card-body d-flex flex-column justify-content-between">
        <div>
            <h5 class="note-title">@note.Title</h5>
            <p class="note-body">@note.Content</p>
        </div>
        <div class="note-meta d-flex align-items-center">
            <span class="text-muted small">@note.LastModified.ToString("yyyy-MM-dd HH:mm")</span>
            
            <!-- دکمه ویرایش -->
            <a class="btn btn-sm btn-outline-secondary ms-auto"
               href="@Url.Action("Edit", new { id = note.Id })"
               onclick="event.stopPropagation();">ویرایش</a>
            
            <!-- دکمه حذف -->
            <form asp-action="Delete" asp-route-id="@note.Id" method="post" style="display:inline;"
                  onsubmit="event.stopPropagation();">
                <button type="submit" class="btn btn-sm btn-outline-danger"
                        onclick="return confirm('آیا مطمئنی می‌خوای این یادداشت رو حذف کنی؟');">
                    حذف
                </button>
            </form>
        </div>
    </div>
</div>

    }
</div>